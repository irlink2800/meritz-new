



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for the DexGuard tool">
      
      
      
        <meta name="author" content="Guardsquare">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="img/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.3">
    
    
      
        <title>Introduction - DexGuard</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=:300,400,400i,700%7C&display=fallback">
        <style>body,input{font-family:"","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="css/extra.css">
    
      <link rel="stylesheet" href="css/extra2.css">
    
      <link rel="stylesheet" href="css/tabs.css">
    
    
      
    
    
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NMXSB9');</script>
<!-- End Google Tag Manager -->


  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#optimizing-and-protecting-applications" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMXSB9"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
   
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="index.html" title="DexGuard" aria-label="DexGuard" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="img/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              DexGuard
            </span>
            <span class="md-header-nav__topic">
              
                Introduction
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    

    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="index.html" title="DexGuard" class="md-nav__button md-logo">
      
        <img alt="logo" src="img/logo.png" width="48" height="48">
      
    </a>
    DexGuard
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="quickstart.html" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Introduction
      </label>
    
    <a href="introduction.html" title="Introduction" class="md-nav__link md-nav__link--active">
      Introduction
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#optimizing-and-protecting-applications" class="md-nav__link">
    Optimizing and protecting applications
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optimizing-and-protecting-libraries" class="md-nav__link">
    Optimizing and protecting libraries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#processing-steps" class="md-nav__link">
    Processing steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entry-points" class="md-nav__link">
    Entry points
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reflection" class="md-nav__link">
    Reflection
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="setup/standalone.html" title="DexGuard" class="md-nav__link">
      DexGuard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="setup/upgrading.html" title="Upgrading" class="md-nav__link">
      Upgrading
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="setup/gradle-plugin.html" title="Gradle Plugin" class="md-nav__link">
      Gradle Plugin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="setup/repository.html" title="Maven repository" class="md-nav__link">
      Maven repository
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="setup/espresso.html" title="Espresso" class="md-nav__link">
      Espresso
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="setup/cordovaplugin.html" title="Cordova Plugin" class="md-nav__link">
      Cordova Plugin
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="configuration.html" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="usage.html" title="Reference Guide" class="md-nav__link">
      Reference Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="defaultconfigurations.html" title="Default Configs" class="md-nav__link">
      Default Configs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="annotations.html" title="Annotations" class="md-nav__link">
      Annotations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Features
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Features
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="protection.html" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="rasp.html" title="RASP" class="md-nav__link">
      RASP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Languages & Platforms
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Languages & Platforms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="java.html" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="kotlin.html" title="Kotlin" class="md-nav__link">
      Kotlin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="javascript.html" title="JavaScript" class="md-nav__link">
      JavaScript
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      ThreatCast
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        ThreatCast
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="threatcast.html" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      In Depth
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        In Depth
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="protectionreport.html" title="Protection Report" class="md-nav__link">
      Protection Report
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="examples.html" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="refcard.html" title="Reference Card" class="md-nav__link">
      Reference Card
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="optimizations.html" title="Optimizations" class="md-nav__link">
      Optimizations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="attributes.html" title="Attributes" class="md-nav__link">
      Attributes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="loggingremoval.html" title="Logging Removal" class="md-nav__link">
      Logging Removal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="verification.html" title="Verification" class="md-nav__link">
      Verification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="runtime.html" title="Runtime Library" class="md-nav__link">
      Runtime Library
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="plugins.html" title="Encryption Plugins" class="md-nav__link">
      Encryption Plugins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="codepush.html" title="Code Push" class="md-nav__link">
      Code Push
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Addons
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Addons
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="addons_overview.html" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="ndk.html" title="NDK" class="md-nav__link">
      NDK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="whitebox.html" title="Whitebox Cryptography" class="md-nav__link">
      Whitebox Cryptography
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="fingerprinting.html" title="Device Fingerprinting" class="md-nav__link">
      Device Fingerprinting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="securekeyboard.html" title="Secure Keyboard" class="md-nav__link">
      Secure Keyboard
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="tools/androidstudio.html" title="Android Studio Plugin" class="md-nav__link">
      Android Studio Plugin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tools/libraryrulesgenerator.html" title="Library Rules Generator" class="md-nav__link">
      Library Rules Generator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tools/retrace.html" title="ReTrace" class="md-nav__link">
      ReTrace
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Troubleshooting
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Troubleshooting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="troubleshooting.html" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="reportingissues.html" title="Reporting Issues" class="md-nav__link">
      Reporting Issues
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="releasenotes.html" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="license.html" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#optimizing-and-protecting-applications" class="md-nav__link">
    Optimizing and protecting applications
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optimizing-and-protecting-libraries" class="md-nav__link">
    Optimizing and protecting libraries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#processing-steps" class="md-nav__link">
    Processing steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entry-points" class="md-nav__link">
    Entry points
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reflection" class="md-nav__link">
    Reflection
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Introduction</h1>
                
                <p><strong>DexGuard</strong> processes Android applications and libraries, making them
smaller, more efficient, and better hardened against reverse engineering
and tampering.</p>
<p>DexGuard reads the compiled <strong>input</strong> (jars, apks, aabs, aars, wars, ears,
jmods, zips, or directories, containing class files, dex files, native
libraries, resource files, asset files). DexGuard then optimizes and protects
the code and the resources.</p>
<p>DexGuard packages the processed <strong>output</strong> in output archives (jars,
aars, wars, ears, zips, apks, or directories, containing Dalvik
bytecode). DexGuard can optionally sign and align these archives,
removing the need for external tools.</p>
<p>DexGuard requires the <strong>platform libraries</strong> (jars, apks, aabs, aars, wars,
ears, jmods, zips, or directories) to properly process the code. For the
standard Android platform, this is simply <code>android.jar</code>.</p>
<h2 id="optimizing-and-protecting-applications">Optimizing and protecting applications<a class="headerlink" href="#optimizing-and-protecting-applications" title="Permanent link">&para;</a></h2>
<p>DexGuard can be used to protect applications that have been
produced by the Android build toolchain.</p>
<div class="center">
  <div class="diagram">
    <div class="distributed">
      <div class="title">Source code<br/>and resources</div>
      <div class="title">Unprotected<br/>application (.apk)</div>
      <div class="title">Optimized and protected<br/>application (.apk)</div>
    </div>
    <div class="row">
      <div class="col">
        <div class="row">
          <div class="lightgreen box">Android manifest<br/>(text .xml)</div>
        </div>
        <div class="row">
          <div class="lightgreen box">Java source code<br/>(.java)</div>
        </div>
        <div class="row">
          <div class="lightgreen box">Native source code<br/>(.c, .cpp)</div>
        </div>
        <div class="row">
          <div class="lightgreen box">Resources<br/>(text .xml)</div>
        </div>
        <div class="row">
          <div class="lightgreen box" style="font-size: smaller;">Resource files<br/>(text .xml, .png,...)</div>
        </div>
        <div class="row">
          <div class="lightgreen box">Assets<br/>(.txt,...)</div>
        </div>
      </div>
      <div class="right arrow">R8</div>
      <div class="frame">
        <div class="col">
          <div class="green box">Android manifest</div>
          <div class="green box">Dalvik byte code</div>
          <div class="green box">native code</div>
          <div class="green box">resources</div>
          <div class="green box">resource files</div>
          <div class="green box">assets</div>
        </div>
      </div>
      <div class="right arrow">DexGuard</div>
      <div class="frame">
        <div class="col">
          <div class="darkgreen box">Protected Android manifest</div>
          <div class="darkgreen box">Protected Dalvik byte code</div>
          <div class="darkgreen box">Protected native code</div>
          <div class="darkgreen box">Protected resources</div>
          <div class="darkgreen box">Protected resource files</div>
          <div class="darkgreen box">Protected assets</div>
        </div>
      </div>
    </div>
  </div>
</div>

<p>DexGuard reads the <strong>input</strong> <code>.apk</code> file and optimizes and protects the
code and the resources.</p>
<p>DexGuard packages the processed <strong>output</strong> into an output apk. DexGuard
can optionally sign and align the output, removing the need for external
tools.</p>
<h2 id="optimizing-and-protecting-libraries">Optimizing and protecting libraries<a class="headerlink" href="#optimizing-and-protecting-libraries" title="Permanent link">&para;</a></h2>
<p>You can also apply DexGuard to <strong>library projects</strong>, if the libraries
are end-products that you wish to distribute. Libraries are inherently
more difficult to protect, due to the surface area of their public APIs.
Notably, all public classes, fields, and methods need to be preserved,
so developers can actually use the libraries in their own projects.
Also, <code>.aar</code> files contain all XML resources in their readable text
form.</p>
<div class="center">
  <div class="diagram">
    <div class="distributed">
      <div class="title">Source code<br/>and resources</div>
      <div class="title">Compiled code<br/>and resources</div>
      <div class="title">Optimized and protected<br/>library (.aar or .jar)</div>
    </div>

    <div class="row">
      <div class="col">
        <div class="row">
          <div class="lightgreen box">Android manifest<br/>(text .xml)</div>
        </div>
        <div class="row">
          <div class="lightgreen box">Java source code<br/>(.java)</div>
          <div class="right arrow">javac</div>
          <div class="green box">Java byte code<br/>(.class)</div>
        </div>
        <div class="row">
          <div class="lightgreen box">Native source code<br/>(.c, .cpp)</div>
          <div class="right arrow">clang</div>
          <div class="green box">Native code<br/>(.so)</div>
        </div>
        <div class="row">
          <div class="lightgreen box">Resources<br/>(text .xml)</div>
        </div>
        <div class="row">
          <div class="lightgreen box">Resource files<br/>(text .xml, .png,...)</div>
        </div>
        <div class="row">
          <div class="lightgreen box">Assets<br/>(.txt,...)</div>
        </div>
      </div>
      <div class="right arrow">DexGuard</div>
      <div class="frame">
        <div class="col">
          <div class="lightgreen box">Android manifest<br/>(text .xml)</div>
          <div class="darkgreen box">Protected Java byte code</div>
          <div class="darkgreen box">Protected native code</div>
          <div class="lightgreen box">Resources<br/>(text .xml)</div>
          <div class="lightgreen box">Resource files<br/>(text .xml, .png,...)</div>
          <div class="darkgreen box">Protected assets</div>
        </div>
      </div>
    </div>
  </div>
</div>

<p>Within these constraints, DexGuard offers the same functionality for
library projects as for application projects — optimization, name
obfuscation, string encryption, asset encryption, etc. Tamper detection
on the eventual <code>.apk</code> file is an exception, because compiling a library
into an application is like tampering. You can include tamper detection
based on the application's certificate hash, if you know the hash in
advance.</p>
<p>We recommend to process the final applications as well, if possible.
DexGuard can then globally optimize and harden all compiled resources
and code, creating a better overall results.</p>
<h2 id="processing-steps">Processing steps<a class="headerlink" href="#processing-steps" title="Permanent link">&para;</a></h2>
<p>DexGuard processes the resources and the code in distinct but seamless
steps.</p>
<div class="center">
  <div class="diagram">
    <div class="title">DexGuard processing steps</div>
    <div class="row">
      <div class="green box">Compiled<br/>code and resources</div>
      <div class="right arrow" style="font-size:smaller;">Shrinking</div>
      <div class="right arrow" style="font-size:smaller;">Optimization</div>
      <div class="right arrow" style="font-size:smaller;">Obfuscation<br/>Encryption</div>
      <div class="darkgreen box">Protected<br/>code and resources</div>
    </div>
  </div>
</div>

<ul>
<li>The <strong>shrinking step</strong> detects and removes unused resources,
  resource files, native libraries, classes, fields, methods,
  and attributes.</li>
<li>The <strong>optimization step</strong> analyzes and optimizes the resources and
  the bytecode of the methods.</li>
<li>The <strong>obfuscation step</strong> renames the remaining resources, resource
  files, native libraries, classes, fields, and methods using short
  meaningless names. It obfuscates the bytecode inside specified
  methods. Finally, it encrypts specified strings, classes, native
  libraries, resource files, and assets.</li>
</ul>
<p>These steps make the code base smaller, more efficient, and harder to
reverse-engineer. For application projects, a final conversion step also
translates the Java bytecode (<code>*.class</code>) to Dalvik bytecode
(<code>classes.dex</code>).</p>
<h2 id="entry-points">Entry points<a class="headerlink" href="#entry-points" title="Permanent link">&para;</a></h2>
<p>In order to determine which resources and code have to be preserved and
which resources and code can be discarded or obfuscated, DexGuard has to
know the <em>entry points</em> to your code. For example, the main entry point
for an application is the Android manifest. In all processing steps,
preserving the entry points ensures that they can still be accessed by
their original names:</p>
<ul>
<li>In the <strong>shrinking step</strong>, DexGuard starts from these seeds and
  recursively determines which resources, resource files, native
  libraries, classes, fields, and methods are actually used. It then
  discards all other resources, resource files, native libraries,
  classes, fields, and methods.</li>
<li>In the <strong>optimization step</strong>, DexGuard further optimizes the code,
  while still preserving all entry points. Unused parameters may be
  removed; resources, constants, and entire methods may be inlined;
  classes, fields, and methods may be made private, static, or
  final, etc.</li>
<li>In the <strong>obfuscation step</strong>, DexGuard renames resources, resource
  files, native libraries, classes, fields, and methods that are not
  entry points.</li>
</ul>
<p>DexGuard's default configuration takes care of the entry points for
Android and for a number of common third-party libraries. Otherwise, the
<a href="usage.html">Usage section</a> of this manual describes the necessary
<a href="usage.html#keepoptions"><code>-keep</code></a> options and the <a href="examples.html">Examples
section</a> provides examples.</p>
<h2 id="reflection">Reflection<a class="headerlink" href="#reflection" title="Permanent link">&para;</a></h2>
<p>Reflection and introspection present particular problems for any
automatic processing of code. Resources, resource files, classes,
fields, or methods that are accessed or instantiated dynamically (that
is, by name) have to be specified as entry points too. For example,
constructs with <code>Resources#getIdentifier</code> or <code>Class.forName()</code> may refer
to any resource or any class at run-time. It is generally impossible to
compute which resources or classes have to be preserved (with their
original names), since the code may create their names dynamically. You
therefore have to specify them in your DexGuard configuration, with the
same simple <a href="usage.html#keep"><code>-keep</code></a> options.</p>
<p>DexGuard already detects and handles the following cases for you:</p>
<ul>
<li><code>Class.forName("SomeClass")</code></li>
<li><code>SomeClass.class</code></li>
<li><code>SomeClass.class.getField("someField")</code></li>
<li><code>SomeClass.class.getDeclaredField("someField")</code></li>
<li><code>SomeClass.class.getMethod("someMethod", null)</code></li>
<li><code>SomeClass.class.getMethod("someMethod", new Class[] { A.class,... })</code></li>
<li><code>SomeClass.class.getDeclaredMethod("someMethod", null)</code></li>
<li><code>SomeClass.class.getDeclaredMethod("someMethod", new Class[] { A.class,... })</code></li>
<li><code>AtomicIntegerFieldUpdater.newUpdater(SomeClass.class, "someField")</code></li>
<li><code>AtomicLongFieldUpdater.newUpdater(SomeClass.class, "someField")</code></li>
<li><code>AtomicReferenceFieldUpdater.newUpdater(SomeClass.class, SomeType.class, "someField")</code></li>
<li><code>resources.getIdentifier("someResource", "string", "com.example")</code></li>
<li><code>assetManager.open("someAsset")</code></li>
<li><code>assetManager.openFd("someAsset")</code></li>
<li><code>Typeface.createFromAsset(assetManager, "someTypeface")</code></li>
<li><code>System.loadLibrary("someLibrary")</code></li>
</ul>
<p>The string literals that refer to classes, class members, resources,
asset files, and native libraries may of course be different, but the
code patterns should be exactly the same for DexGuard to recognize them.
DexGuard then preserves the referenced classes, class members,
resources, asset files, and native libraries in the shrinking step, and
consistently updates their names and the string literals in the
obfuscation step.</p>
<p>Furthermore, DexGuard will offer some suggestions if keeping some
classes or class members appears necessary. For example, DexGuard will
note constructs like
"<code>(SomeClass)Class.forName(variable).newInstance()</code>". These might be an
indication that the class or interface <code>SomeClass</code> and/or its
implementations may need to be preserved. You can then adapt your
configuration accordingly.</p>
<p>Finally, DexGuard can also help for to find less obvious cases of reflection
 <em>at run-time</em>. The option
 <a href="usage.html#addconfigurationdebugging"><code>-addconfigurationdebugging</code></a> lets
 ProGuard instrument the processed code with debugging statements. These print
 out suggestions for missing ProGuard configuration. They can be very useful
 to get practical hints, if your processed code crashes because it still lacks
 some configuration. You can generally just copy/paste the suggestions from
 the console into your configuration file.</p>
<p>For proper results, you should at least be somewhat familiar with the
code that you are processing. Obfuscating code that performs a lot of
reflection may require trial and error, especially without the necessary
information about the internals of the code.</p>
<p>Practically, these are the options that you can specify to preserve
elements in the various components of your application:</p>
<div class="center">
  <div class="diagram">
    <div class="row">
      <div class="col" style="width: 400px;">
        <div class="title">Reducing shrinking/optimization/obfuscation</div>
        <div class="green box">Android manifest<br/>(binary .xml)
          <div class="label">
            <a href="usage.html#keepresourcexmlattributenames">-keepresourcexmlattributenames</a>
          </div>
        </div>
        <div class="green box">Java byte code<br/>(.class)
          <div class="label">
            <a href="usage.html#keepoverview">-keep</a><br/>
            <a href="usage.html#keepattributes">-keepattributes</a>
          </div>
        </div>
        <div class="green box">Native code<br/>(.so)
          <div class="label">
            <a href="usage.html#keepoverview">-keep</a><br/>
            <a href="usage.html#keepresourcefiles">-keepresourcefiles</a>
          </div>
        </div>
        <div class="green box">Resources<br/>(.arsc)
          <div class="label">
            <a href="usage.html#keepresources">-keepresources</a><br/>
          </div>
        </div>
        <div class="green box">Resource files<br/>(binary .xml, .png,...)
          <div class="label">
            <a href="usage.html#keepresourcefiles">-keepresourcefiles</a>
          </div>
        </div>
        <div class="green box">Assets<br/>(.txt,...)
          <div class="label">
            <a href="usage.html#keepresourcefiles">-keepresourcefiles</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<p>The options all have arguments to specify which elements exactly need to
be preserved.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="quickstart.html" title="Quick Start" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Quick Start
              </span>
            </div>
          </a>
        
        
          <a href="setup/standalone.html" title="DexGuard" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                DexGuard
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 Guardsquare
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="assets/fonts/font-awesome.css">
    
      <a href="https://twitter.com/guardsquare" target="_blank" rel="noopener" title="twitter" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/company/guardsquare-nv" target="_blank" rel="noopener" title="linkedin" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://www.facebook.com/guardsquare" target="_blank" rel="noopener" title="facebook" class="md-footer-social__link fa fa-facebook"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
      
    
  </body>
</html>