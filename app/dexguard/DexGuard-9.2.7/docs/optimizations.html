



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for the DexGuard tool">
      
      
      
        <meta name="author" content="Guardsquare">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="img/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.3">
    
    
      
        <title>Optimizations - DexGuard</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=:300,400,400i,700%7C&display=fallback">
        <style>body,input{font-family:"","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="css/extra.css">
    
      <link rel="stylesheet" href="css/extra2.css">
    
      <link rel="stylesheet" href="css/tabs.css">
    
    
      
    
    
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NMXSB9');</script>
<!-- End Google Tag Manager -->


  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#gson" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMXSB9"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
   
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="index.html" title="DexGuard" aria-label="DexGuard" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="img/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              DexGuard
            </span>
            <span class="md-header-nav__topic">
              
                Optimizations
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    

    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="index.html" title="DexGuard" class="md-nav__button md-logo">
      
        <img alt="logo" src="img/logo.png" width="48" height="48">
      
    </a>
    DexGuard
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="quickstart.html" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="introduction.html" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="setup/standalone.html" title="DexGuard" class="md-nav__link">
      DexGuard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="setup/upgrading.html" title="Upgrading" class="md-nav__link">
      Upgrading
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="setup/gradle-plugin.html" title="Gradle Plugin" class="md-nav__link">
      Gradle Plugin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="setup/repository.html" title="Maven repository" class="md-nav__link">
      Maven repository
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="setup/espresso.html" title="Espresso" class="md-nav__link">
      Espresso
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="setup/cordovaplugin.html" title="Cordova Plugin" class="md-nav__link">
      Cordova Plugin
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="configuration.html" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="usage.html" title="Reference Guide" class="md-nav__link">
      Reference Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="defaultconfigurations.html" title="Default Configs" class="md-nav__link">
      Default Configs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="annotations.html" title="Annotations" class="md-nav__link">
      Annotations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Features
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Features
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="protection.html" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="rasp.html" title="RASP" class="md-nav__link">
      RASP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Languages & Platforms
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Languages & Platforms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="java.html" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="kotlin.html" title="Kotlin" class="md-nav__link">
      Kotlin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="javascript.html" title="JavaScript" class="md-nav__link">
      JavaScript
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      ThreatCast
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        ThreatCast
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="threatcast.html" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" checked>
    
    <label class="md-nav__link" for="nav-9">
      In Depth
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        In Depth
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="protectionreport.html" title="Protection Report" class="md-nav__link">
      Protection Report
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="examples.html" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="refcard.html" title="Reference Card" class="md-nav__link">
      Reference Card
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Optimizations
      </label>
    
    <a href="optimizations.html" title="Optimizations" class="md-nav__link md-nav__link--active">
      Optimizations
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gson" class="md-nav__link">
    Gson optimization
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gsonlimitations" class="md-nav__link">
    Known limitations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="attributes.html" title="Attributes" class="md-nav__link">
      Attributes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="loggingremoval.html" title="Logging Removal" class="md-nav__link">
      Logging Removal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="verification.html" title="Verification" class="md-nav__link">
      Verification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="runtime.html" title="Runtime Library" class="md-nav__link">
      Runtime Library
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="plugins.html" title="Encryption Plugins" class="md-nav__link">
      Encryption Plugins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="codepush.html" title="Code Push" class="md-nav__link">
      Code Push
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Addons
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Addons
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="addons_overview.html" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="ndk.html" title="NDK" class="md-nav__link">
      NDK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="whitebox.html" title="Whitebox Cryptography" class="md-nav__link">
      Whitebox Cryptography
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="fingerprinting.html" title="Device Fingerprinting" class="md-nav__link">
      Device Fingerprinting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="securekeyboard.html" title="Secure Keyboard" class="md-nav__link">
      Secure Keyboard
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="tools/androidstudio.html" title="Android Studio Plugin" class="md-nav__link">
      Android Studio Plugin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tools/libraryrulesgenerator.html" title="Library Rules Generator" class="md-nav__link">
      Library Rules Generator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tools/retrace.html" title="ReTrace" class="md-nav__link">
      ReTrace
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Troubleshooting
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Troubleshooting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="troubleshooting.html" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="reportingissues.html" title="Reporting Issues" class="md-nav__link">
      Reporting Issues
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="releasenotes.html" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="license.html" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gson" class="md-nav__link">
    Gson optimization
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gsonlimitations" class="md-nav__link">
    Known limitations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Optimizations</h1>
                
                <p>The optimization step of DexGuard can be switched off with the
<a href="usage.html#dontoptimize"><code>-dontoptimize</code></a> option. For more fine-grained
control over individual optimizations, experts can use the
<a href="usage.html#optimizations"><code>-optimizations</code></a> option, with a filter based
on the optimization names listed below. The filter works like any
<a href="usage.html#filters">filter</a> in DexGuard.</p>
<p>The following wildcards are supported:</p>
<table>
<thead>
<tr>
<th>Wildcard</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>?</code></td>
<td>matches any single character in an optimization name.</td>
</tr>
<tr>
<td><code>*</code></td>
<td>matches any part of an optimization name.</td>
</tr>
</tbody>
</table>
<p>An optimization that is preceded by an exclamation mark '<strong>!</strong>' is
<em>excluded</em> from further attempts to match with <em>subsequent</em> optimization
names in the filter. Make sure to specify filters correctly, since they
are not checked for potential typos.</p>
<p>For example,
"<strong><code>code/simplification/variable,code/simplification/arithmetic</code></strong>" only
performs the two specified peephole optimizations.</p>
<p>For example, "<code>!method/propagation/*</code>" performs all optimizations,
except the ones that propagate values between methods.</p>
<p>For example, "<code>!code/simplification/advanced,code/simplification/*</code>"
only performs all peephole optimizations.</p>
<p>Some optimizations necessarily imply other optimizations. These are then
indicated. Note that the list is likely to change for newer versions, as
optimizations are added and reorganized.</p>
<dl>
<dt><code>resource/inlining/resource</code></dt>
<dd>Inlines resource constants into XML files, whenever possible.</dd>
<dt><code>resource/inlining/code</code></dt>
<dd>Inlines resource constants into code, whenever possible.</dd>
<dt><code>resource/inlining/metadata</code></dt>
<dd>Inlines metadata from the Android manifest into code, whenever possible.</dd>
<dt><code>resource/deduplication</code></dt>
<dd>Removes duplicate resource constants, whenever possible.</dd>
<dt><code>resource/compaction</code></dt>
<dd>Removes empty resource constants, whenever possible.</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Incompatible with app bundles</p>
<p><code>resource/compaction</code> will be automatically disabled when processing app bundles.</p>
</div>
<dl>
<dt><code>library/gson</code></dt>
<dd>Optimizes usages of the Gson library, whenever possible. See <a href="optimizations.html#gson">Gson
  optimization</a> for more details.</dd>
<dt><code>class/marking/final</code></dt>
<dd>Marks classes as final, whenever possible.</dd>
<dt><code>class/unboxing/enum</code></dt>
<dd>Simplifies enum types to integer constants, whenever possible.</dd>
<dt><code>class/merging/vertical</code></dt>
<dd>Merges classes vertically in the class hierarchy, whenever possible.</dd>
<dt><code>class/merging/horizontal</code></dt>
<dd>Merges classes horizontally in the class hierarchy, whenever possible.</dd>
<dt><code>class/merging/wrapper</code></dt>
<dd>Merges wrapper classes with their wrapped classes, whenever possible.</dd>
<dt><code>field/removal/writeonly</code><div>(⇒ <code>code/removal/advanced</code>)</div></dt>
<dd>Removes write-only fields.</dd>
<dt><code>field/marking/private</code></dt>
<dd>Marks fields as private, whenever possible.</dd>
<dt><code>field/generalization/class</code></dt>
<dd>Generalizes the classes of field accesses, whenever possible.</dd>
<dt><code>field/specialization/type</code></dt>
<dd>Specializes the types of fields, whenever possible.</dd>
<dt><code>field/propagation/value</code><div>(⇒ <code>code/simplification/advanced</code>)</div></dt>
<dd>Propagates the values of fields across methods.</dd>
<dt><code>method/marking/private</code></dt>
<dd>Marks methods as private, whenever possible (<em>devirtualization</em>).</dd>
<dt><code>method/marking/static</code><div>(⇒ <code>code/removal/advanced</code>)</div></dt>
<dd>Marks methods as static, whenever possible (<em>devirtualization</em>).</dd>
<dt><code>method/marking/final</code></dt>
<dd>Marks methods as final, whenever possible.</dd>
<dt><code>method/marking/synchronized</code></dt>
<dd>Unmarks methods as synchronized, whenever possible.</dd>
<dt><code>method/removal/parameter</code><div>(⇒ <code>code/removal/advanced</code>)</div></dt>
<dd>Removes unused method parameters.</dd>
<dt><code>method/generalization/class</code></dt>
<dd>Generalizes the classes of method invocations, whenever possible.</dd>
<dt><code>method/specialization/parametertype</code></dt>
<dd>Specializes the types of method parameters, whenever possible.</dd>
<dt><code>method/specialization/returntype</code></dt>
<dd>Specializes the types of method return values, whenever possible.</dd>
<dt><code>method/propagation/parameter</code><div>(⇒ <code>code/simplification/advanced</code>)</div></dt>
<dd>Propagates the values of method parameters from method invocations to the
  invoked methods.</dd>
<dt><code>method/propagation/returnvalue</code><div>(⇒ <code>code/simplification/advanced</code>)</div></dt>
<dd>Propagates the values of method return values from methods to their
  invocations.</dd>
<dt><code>method/inlining/short</code></dt>
<dd>Inlines short methods.</dd>
<dt><code>method/inlining/unique</code></dt>
<dd>Inlines methods that are only called once.</dd>
<dt><code>method/inlining/tailrecursion</code></dt>
<dd>Simplifies tail recursion calls, whenever possible.</dd>
<dt><code>code/merging</code></dt>
<dd>Merges identical blocks of code by modifying branch targets.</dd>
<dt><code>code/simplification/variable</code></dt>
<dd>Performs peephole optimizations for variable loading and storing.</dd>
<dt><code>code/simplification/arithmetic</code></dt>
<dd>Performs peephole optimizations for arithmetic instructions.</dd>
<dt><code>code/simplification/cast</code></dt>
<dd>Performs peephole optimizations for casting operations.</dd>
<dt><code>code/simplification/field</code></dt>
<dd>Performs peephole optimizations for field loading and storing.</dd>
<dt><code>code/simplification/branch</code><div>(⇒ <code>code/removal/simple</code>)</div></dt>
<dd>Performs peephole optimizations for branch instructions.</dd>
<dt><code>code/simplification/object</code></dt>
<dd>Performs peephole optimizations for object instantiation.</dd>
<dt><code>code/simplification/string</code></dt>
<dd>Performs peephole optimizations for constant strings.</dd>
<dt><code>code/simplification/math</code></dt>
<dd>Performs peephole optimizations for Math method calls.</dd>
<dt><code>code/simplification/advanced</code><div>(<em>best used with</em> <code>code/removal/advanced</code>)</div></dt>
<dd>Simplifies code based on control flow analysis and data flow analysis.</dd>
<dt><code>code/removal/advanced</code><div>(⇒ <code>code/removal/exception</code>)</div></dt>
<dd>Removes dead code based on control flow analysis and data flow analysis.</dd>
<dt><code>code/removal/simple</code><div>(⇒ <code>code/removal/exception</code>)</div></dt>
<dd>Removes dead code based on a simple control flow analysis.</dd>
<dt><code>code/removal/variable</code></dt>
<dd>Removes unused variables from the local variable frame.</dd>
<dt><code>code/removal/exception</code></dt>
<dd>Removes exceptions with empty try blocks.</dd>
<dt><code>code/allocation/variable</code></dt>
<dd>Optimizes variable allocation on the local variable frame.</dd>
</dl>
<p>DexGuard also provides some unofficial settings to control
optimizations, that may disappear in future versions. These are Java
system properties, which can be set as JVM arguments (with <code>-D...</code>):</p>
<dl>
<dt><code>maximum.inlined.code.length</code> (default = 8 bytes)</dt>
<dd>Specifies the maximum code length (expressed in bytes) of short methods
  that are eligible to be inlined. Inlining methods that are too long may
  unnecessarily inflate the code size.</dd>
<dt><code>maximum.resulting.code.length</code> (default = 8000 bytes for JSE, 2000 bytes for JME)</dt>
<dd>Specifies the maximum resulting code length (expressed in bytes) allowed
  when inlining methods. Many Java virtual machines do not apply just-in-time
  compilation to methods that are too long, so it's important not to let them
  grow too large.</dd>
<dt><code>optimize.conservatively</code> (default = unset)</dt>
<dd>Allows input code with ordinary instructions intentionally throwing
  <strong><code>NullPointerException</code></strong>, <code>ArrayIndexOutOfBoundsException</code>, or
  <strong><code>ClassCastException</code></strong>, without any other useful purposes. By default,
  DexGuard may just discard such seemingly useless instructions,
  resulting in better optimization of most common code.</dd>
</dl>
<h2 id="gson">Gson optimization<a class="headerlink" href="#gson" title="Permanent link">&para;</a></h2>
<p>DexGuard optimizes Gson code by detecting which domain classes are serialized
using the Gson library. It replaces the reflection-based implementation of
GSON for reading and writing fields with injected and optimized code that
accesses the fields of the domain classes directly when reading and writing
JSON. The benefits of this optimization are the following:</p>
<ul>
<li>Domain classes used in conjunction with GSON can be freely obfuscated.</li>
<li>The field names that occur in the serialized JSON are hidden behind a layer
  of encryption to prevent reverse engineering of these domain classes.</li>
<li>The injected serialization code gives better performance compared to the
  GSON implementation, which relies on reflection.</li>
<li>Less configuration is needed as the optimization automatically keeps classes
  and fields that are required for serialization.</li>
</ul>
<h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h3>
<p>The Gson optimization is enabled by default and doesn't require any additional
configuration, as long as the application code doesn't use unsupported Gson
features(see <a href="optimizations.html#gsonlimitations">Known limitations</a>).</p>
<div class="admonition warning">
<p class="admonition-title">Disabling Gson optimizations</p>
<p>If you are using Gson but disable Gson optimizations then you should use the
<a href="defaultconfigurations.html">default configuration</a> <code>dexguard-gson.pro</code> in
addition to a standard default configuration.</p>
</div>
<h3 id="gsonlimitations">Known limitations<a class="headerlink" href="#gsonlimitations" title="Permanent link">&para;</a></h3>
<p>DexGuard can not optimize the following use cases of Gson:</p>
<ul>
<li>Serializing classes containing one of the following Gson annotations:<ul>
<li><code>@JsonAdapter</code></li>
<li><code>@Since</code></li>
<li><code>@Until</code></li>
</ul>
</li>
<li>Serializing classes that have generic type variables in their signature.</li>
<li>Serializing classes using a Gson instance that was built with one of the
  following settings on the GsonBuilder:<ul>
<li><code>excludeFieldsWithModifier</code></li>
<li><code>setFieldNamingPolicy</code></li>
</ul>
</li>
</ul>
<p>When one of the above Gson features is used, DexGuard automatically preserves
the original Gson implementation for all affected domain classes.</p>
<p>This means that the serialized fields of these domain classes need to be
explicitly kept again in the DexGuard configuration so that they can be
safely accessed through reflection.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="refcard.html" title="Reference Card" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Reference Card
              </span>
            </div>
          </a>
        
        
          <a href="attributes.html" title="Attributes" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Attributes
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 Guardsquare
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="assets/fonts/font-awesome.css">
    
      <a href="https://twitter.com/guardsquare" target="_blank" rel="noopener" title="twitter" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/company/guardsquare-nv" target="_blank" rel="noopener" title="linkedin" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://www.facebook.com/guardsquare" target="_blank" rel="noopener" title="facebook" class="md-footer-social__link fa fa-facebook"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
      
    
  </body>
</html>